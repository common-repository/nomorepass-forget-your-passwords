var CryptoJS=CryptoJS||function(t,e){var r={},o=r.lib={},n=function(){},i=o.Base={extend:function(t){n.prototype=this;var e=new n;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=o.WordArray=i.extend({init:function(t,r){t=this.words=t||[],this.sigBytes=r!=e?r:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,r=t.words,o=this.sigBytes;if(t=t.sigBytes,this.clamp(),o%4)for(var n=0;n<t;n++)e[o+n>>>2]|=(r[n>>>2]>>>24-8*(n%4)&255)<<24-8*((o+n)%4);else if(65535<r.length)for(n=0;n<t;n+=4)e[o+n>>>2]=r[n>>>2];else e.push.apply(e,r);return this.sigBytes+=t,this},clamp:function(){var e=this.words,r=this.sigBytes;e[r>>>2]&=4294967295<<32-8*(r%4),e.length=t.ceil(r/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var r=[],o=0;o<e;o+=4)r.push(4294967296*t.random()|0);return new s.init(r,e)}}),a=r.enc={},c=a.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],o=0;o<t;o++){var n=e[o>>>2]>>>24-8*(o%4)&255;r.push((n>>>4).toString(16)),r.push((15&n).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,r=[],o=0;o<e;o+=2)r[o>>>3]|=parseInt(t.substr(o,2),16)<<24-4*(o%8);return new s.init(r,e/2)}},l=a.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var r=[],o=0;o<t;o++)r.push(String.fromCharCode(e[o>>>2]>>>24-8*(o%4)&255));return r.join("")},parse:function(t){for(var e=t.length,r=[],o=0;o<e;o++)r[o>>>2]|=(255&t.charCodeAt(o))<<24-8*(o%4);return new s.init(r,e)}},u=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},h=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var r=this._data,o=r.words,n=r.sigBytes,i=this.blockSize,a=n/(4*i),a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0);if(e=a*i,n=t.min(4*e,n),e){for(var c=0;c<e;c+=i)this._doProcessBlock(o,c);c=o.splice(0,e),r.sigBytes-=n}return new s.init(c,n)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});o.Hasher=h.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,r){return new t.init(r).finalize(e)}},_createHmacHelper:function(t){return function(e,r){return new d.HMAC.init(t,r).finalize(e)}}});var d=r.algo={};return r}(Math);!function(){var t=CryptoJS,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,r=t.sigBytes,o=this._map;t.clamp(),t=[];for(var n=0;n<r;n+=3)for(var i=(e[n>>>2]>>>24-8*(n%4)&255)<<16|(e[n+1>>>2]>>>24-8*((n+1)%4)&255)<<8|e[n+2>>>2]>>>24-8*((n+2)%4)&255,s=0;4>s&&n+.75*s<r;s++)t.push(o.charAt(i>>>6*(3-s)&63));if(e=o.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var r=t.length,o=this._map,n=o.charAt(64);n&&(n=t.indexOf(n),-1!=n&&(r=n));for(var n=[],i=0,s=0;s<r;s++)if(s%4){var a=o.indexOf(t.charAt(s-1))<<2*(s%4),c=o.indexOf(t.charAt(s))>>>6-2*(s%4);n[i>>>2]|=(a|c)<<24-8*(i%4),i++}return e.create(n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,r,o,n,i,s){return t=t+(e&r|~e&o)+n+s,(t<<i|t>>>32-i)+e}function r(t,e,r,o,n,i,s){return t=t+(e&o|r&~o)+n+s,(t<<i|t>>>32-i)+e}function o(t,e,r,o,n,i,s){return t=t+(e^r^o)+n+s,(t<<i|t>>>32-i)+e}function n(t,e,r,o,n,i,s){return t=t+(r^(e|~o))+n+s,(t<<i|t>>>32-i)+e}for(var i=CryptoJS,s=i.lib,a=s.WordArray,c=s.Hasher,s=i.algo,l=[],u=0;64>u;u++)l[u]=4294967296*t.abs(t.sin(u+1))|0;s=s.MD5=c.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,i){for(var s=0;16>s;s++){var a=i+s,c=t[a];t[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var s=this._hash.words,a=t[i+0],c=t[i+1],u=t[i+2],h=t[i+3],d=t[i+4],f=t[i+5],p=t[i+6],g=t[i+7],m=t[i+8],v=t[i+9],y=t[i+10],_=t[i+11],w=t[i+12],k=t[i+13],C=t[i+14],P=t[i+15],B=s[0],S=s[1],E=s[2],A=s[3],B=e(B,S,E,A,a,7,l[0]),A=e(A,B,S,E,c,12,l[1]),E=e(E,A,B,S,u,17,l[2]),S=e(S,E,A,B,h,22,l[3]),B=e(B,S,E,A,d,7,l[4]),A=e(A,B,S,E,f,12,l[5]),E=e(E,A,B,S,p,17,l[6]),S=e(S,E,A,B,g,22,l[7]),B=e(B,S,E,A,m,7,l[8]),A=e(A,B,S,E,v,12,l[9]),E=e(E,A,B,S,y,17,l[10]),S=e(S,E,A,B,_,22,l[11]),B=e(B,S,E,A,w,7,l[12]),A=e(A,B,S,E,k,12,l[13]),E=e(E,A,B,S,C,17,l[14]),S=e(S,E,A,B,P,22,l[15]),B=r(B,S,E,A,c,5,l[16]),A=r(A,B,S,E,p,9,l[17]),E=r(E,A,B,S,_,14,l[18]),S=r(S,E,A,B,a,20,l[19]),B=r(B,S,E,A,f,5,l[20]),A=r(A,B,S,E,y,9,l[21]),E=r(E,A,B,S,P,14,l[22]),S=r(S,E,A,B,d,20,l[23]),B=r(B,S,E,A,v,5,l[24]),A=r(A,B,S,E,C,9,l[25]),E=r(E,A,B,S,h,14,l[26]),S=r(S,E,A,B,m,20,l[27]),B=r(B,S,E,A,k,5,l[28]),A=r(A,B,S,E,u,9,l[29]),E=r(E,A,B,S,g,14,l[30]),S=r(S,E,A,B,w,20,l[31]),B=o(B,S,E,A,f,4,l[32]),A=o(A,B,S,E,m,11,l[33]),E=o(E,A,B,S,_,16,l[34]),S=o(S,E,A,B,C,23,l[35]),B=o(B,S,E,A,c,4,l[36]),A=o(A,B,S,E,d,11,l[37]),E=o(E,A,B,S,g,16,l[38]),S=o(S,E,A,B,y,23,l[39]),B=o(B,S,E,A,k,4,l[40]),A=o(A,B,S,E,a,11,l[41]),E=o(E,A,B,S,h,16,l[42]),S=o(S,E,A,B,p,23,l[43]),B=o(B,S,E,A,v,4,l[44]),A=o(A,B,S,E,w,11,l[45]),E=o(E,A,B,S,P,16,l[46]),S=o(S,E,A,B,u,23,l[47]),B=n(B,S,E,A,a,6,l[48]),A=n(A,B,S,E,g,10,l[49]),E=n(E,A,B,S,C,15,l[50]),S=n(S,E,A,B,f,21,l[51]),B=n(B,S,E,A,w,6,l[52]),A=n(A,B,S,E,h,10,l[53]),E=n(E,A,B,S,y,15,l[54]),S=n(S,E,A,B,c,21,l[55]),B=n(B,S,E,A,m,6,l[56]),A=n(A,B,S,E,P,10,l[57]),E=n(E,A,B,S,p,15,l[58]),S=n(S,E,A,B,k,21,l[59]),B=n(B,S,E,A,d,6,l[60]),A=n(A,B,S,E,_,10,l[61]),E=n(E,A,B,S,u,15,l[62]),S=n(S,E,A,B,v,21,l[63]);s[0]=s[0]+B|0,s[1]=s[1]+S|0,s[2]=s[2]+E|0,s[3]=s[3]+A|0},_doFinalize:function(){var e=this._data,r=e.words,o=8*this._nDataBytes,n=8*e.sigBytes;r[n>>>5]|=128<<24-n%32;var i=t.floor(o/4294967296);for(r[(n+64>>>9<<4)+15]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),r[(n+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),e.sigBytes=4*(r.length+1),this._process(),e=this._hash,r=e.words,o=0;4>o;o++)n=r[o],r[o]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8);return e},clone:function(){var t=c.clone.call(this);return t._hash=this._hash.clone(),t}}),i.MD5=c._createHelper(s),i.HmacMD5=c._createHmacHelper(s)}(Math),function(){var t=CryptoJS,e=t.lib,r=e.Base,o=e.WordArray,e=t.algo,n=e.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var r=this.cfg,n=r.hasher.create(),i=o.create(),s=i.words,a=r.keySize,r=r.iterations;s.length<a;){c&&n.update(c);var c=n.update(t).finalize(e);n.reset();for(var l=1;l<r;l++)c=n.finalize(c),n.reset();i.concat(c)}return i.sigBytes=4*a,i}});t.EvpKDF=function(t,e,r){return n.create(r).compute(t,e)}}(),CryptoJS.lib.Cipher||function(t){var e=CryptoJS,r=e.lib,o=r.Base,n=r.WordArray,i=r.BufferedBlockAlgorithm,s=e.enc.Base64,a=e.algo.EvpKDF,c=r.Cipher=i.extend({cfg:o.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,r){this.cfg=this.cfg.extend(r),this._xformMode=t,this._key=e,this.reset()},reset:function(){i.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,r,o){return("string"==typeof r?p:f).encrypt(t,e,r,o)},decrypt:function(e,r,o){return("string"==typeof r?p:f).decrypt(t,e,r,o)}}}});r.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var l=e.mode={},u=function(e,r,o){var n=this._iv;n?this._iv=t:n=this._prevBlock;for(var i=0;i<o;i++)e[r+i]^=n[i]},h=(r.BlockCipherMode=o.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();h.Encryptor=h.extend({processBlock:function(t,e){var r=this._cipher,o=r.blockSize;u.call(this,t,e,o),r.encryptBlock(t,e),this._prevBlock=t.slice(e,e+o)}}),h.Decryptor=h.extend({processBlock:function(t,e){var r=this._cipher,o=r.blockSize,n=t.slice(e,e+o);r.decryptBlock(t,e),u.call(this,t,e,o),this._prevBlock=n}}),l=l.CBC=h,h=(e.pad={}).Pkcs7={pad:function(t,e){for(var r=4*e,r=r-t.sigBytes%r,o=r<<24|r<<16|r<<8|r,i=[],s=0;s<r;s+=4)i.push(o);r=n.create(i,r),t.concat(r)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},r.BlockCipher=c.extend({cfg:c.cfg.extend({mode:l,padding:h}),reset:function(){c.reset.call(this);var t=this.cfg,e=t.iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=t.createEncryptor;else r=t.createDecryptor,this._minBufferSize=1;this._mode=r.call(t,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var d=r.CipherParams=o.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),l=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return t=t.salt,(t?n.create([1398893684,1701076831]).concat(t).concat(e):e).toString(s)},parse:function(t){t=s.parse(t);var e=t.words;if(1398893684==e[0]&&1701076831==e[1]){var r=n.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return d.create({ciphertext:t,salt:r})}},f=r.SerializableCipher=o.extend({cfg:o.extend({format:l}),encrypt:function(t,e,r,o){o=this.cfg.extend(o);var n=t.createEncryptor(r,o);return e=n.finalize(e),n=n.cfg,d.create({ciphertext:e,key:r,iv:n.iv,algorithm:t,mode:n.mode,padding:n.padding,blockSize:t.blockSize,formatter:o.format})},decrypt:function(t,e,r,o){return o=this.cfg.extend(o),e=this._parse(e,o.format),t.createDecryptor(r,o).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),e=(e.kdf={}).OpenSSL={execute:function(t,e,r,o){return o||(o=n.random(8)),t=a.create({keySize:e+r}).compute(t,o),r=n.create(t.words.slice(e),4*r),t.sigBytes=4*e,d.create({key:t,iv:r,salt:o})}},p=r.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:e}),encrypt:function(t,e,r,o){return o=this.cfg.extend(o),r=o.kdf.execute(r,t.keySize,t.ivSize),o.iv=r.iv,t=f.encrypt.call(this,t,e,r.key,o),t.mixIn(r),t},decrypt:function(t,e,r,o){return o=this.cfg.extend(o),e=this._parse(e,o.format),r=o.kdf.execute(r,t.keySize,t.ivSize,e.salt),o.iv=r.iv,f.decrypt.call(this,t,e,r.key,o)}})}(),function(){for(var t=CryptoJS,e=t.lib.BlockCipher,r=t.algo,o=[],n=[],i=[],s=[],a=[],c=[],l=[],u=[],h=[],d=[],f=[],p=0;256>p;p++)f[p]=128>p?p<<1:p<<1^283;for(var g=0,m=0,p=0;256>p;p++){var v=m^m<<1^m<<2^m<<3^m<<4,v=v>>>8^255&v^99;o[g]=v,n[v]=g;var y=f[g],_=f[y],w=f[_],k=257*f[v]^16843008*v;i[g]=k<<24|k>>>8,s[g]=k<<16|k>>>16,a[g]=k<<8|k>>>24,c[g]=k,k=16843009*w^65537*_^257*y^16843008*g,l[v]=k<<24|k>>>8,u[v]=k<<16|k>>>16,h[v]=k<<8|k>>>24,d[v]=k,g?(g=y^f[f[f[w^y]]],m^=f[f[m]]):g=m=1}var C=[0,1,2,4,8,16,32,64,128,27,54],r=r.AES=e.extend({_doReset:function(){for(var t=this._key,e=t.words,r=t.sigBytes/4,t=4*((this._nRounds=r+6)+1),n=this._keySchedule=[],i=0;i<t;i++)if(i<r)n[i]=e[i];else{var s=n[i-1];i%r?6<r&&4==i%r&&(s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s]):(s=s<<8|s>>>24,s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s],s^=C[i/r|0]<<24),n[i]=n[i-r]^s}for(e=this._invKeySchedule=[],r=0;r<t;r++)i=t-r,s=r%4?n[i]:n[i-4],e[r]=4>r||4>=i?s:l[o[s>>>24]]^u[o[s>>>16&255]]^h[o[s>>>8&255]]^d[o[255&s]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,i,s,a,c,o)},decryptBlock:function(t,e){var r=t[e+1];t[e+1]=t[e+3],t[e+3]=r,this._doCryptBlock(t,e,this._invKeySchedule,l,u,h,d,n),r=t[e+1],t[e+1]=t[e+3],t[e+3]=r},_doCryptBlock:function(t,e,r,o,n,i,s,a){for(var c=this._nRounds,l=t[e]^r[0],u=t[e+1]^r[1],h=t[e+2]^r[2],d=t[e+3]^r[3],f=4,p=1;p<c;p++)var g=o[l>>>24]^n[u>>>16&255]^i[h>>>8&255]^s[255&d]^r[f++],m=o[u>>>24]^n[h>>>16&255]^i[d>>>8&255]^s[255&l]^r[f++],v=o[h>>>24]^n[d>>>16&255]^i[l>>>8&255]^s[255&u]^r[f++],d=o[d>>>24]^n[l>>>16&255]^i[u>>>8&255]^s[255&h]^r[f++],l=g,u=m,h=v;g=(a[l>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&d])^r[f++],m=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[d>>>8&255]<<8|a[255&l])^r[f++],v=(a[h>>>24]<<24|a[d>>>16&255]<<16|a[l>>>8&255]<<8|a[255&u])^r[f++],d=(a[d>>>24]<<24|a[l>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^r[f++],t[e]=g,t[e+1]=m,t[e+2]=v,t[e+3]=d},keySize:8});t.AES=e._createHelper(r)}();var QRCode;!function(){function t(t){this.mode=l.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var o=[],n=this.data.charCodeAt(e);n>65536?(o[0]=240|(1835008&n)>>>18,o[1]=128|(258048&n)>>>12,o[2]=128|(4032&n)>>>6,o[3]=128|63&n):n>2048?(o[0]=224|(61440&n)>>>12,o[1]=128|(4032&n)>>>6,o[2]=128|63&n):n>128?(o[0]=192|(1984&n)>>>6,o[1]=128|63&n):o[0]=n,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var o=0;o<t.length-r;o++)this.num[o]=t[o+r]}function o(t,e){this.totalCount=t,this.dataCount=e}function n(){this.buffer=[],this.length=0}function i(){return"undefined"!=typeof CanvasRenderingContext2D}function s(){var t=!1,e=navigator.userAgent;if(/android/i.test(e)){t=!0;var r=e.toString().match(/android ([0-9]\.[0-9])/i);r&&r[1]&&(t=parseFloat(r[1]))}return t}function a(t,e){for(var r=1,o=c(t),n=0,i=g.length;n<=i;n++){var s=0;switch(e){case u.L:s=g[n][0];break;case u.M:s=g[n][1];break;case u.Q:s=g[n][2];break;case u.H:s=g[n][3]}if(o<=s)break;r++}if(r>g.length)throw new Error("Too long data");return r}function c(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}t.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var r=new t(e);this.dataList.push(r),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[o][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,r),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var o=-1;o<=7;o++)e+o<=-1||this.moduleCount<=e+o||(0<=r&&r<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=o&&o<=4?this.modules[t+r][e+o]=!0:this.modules[t+r][e+o]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var o=d.getLostPoint(this);(0==r||t>o)&&(t=o,e=r)}return e},createMovieClip:function(t,e,r){var o=t.createEmptyMovieClip(e,r),n=1;this.make();for(var i=0;i<this.modules.length;i++)for(var s=i*n,a=0;a<this.modules[i].length;a++){var c=a*n,l=this.modules[i][a];l&&(o.beginFill(0,100),o.moveTo(c,s),o.lineTo(c+n,s),o.lineTo(c+n,s+n),o.lineTo(c,s+n),o.endFill())}return o},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=d.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var o=t[e],n=t[r];if(null==this.modules[o][n])for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)i==-2||2==i||s==-2||2==s||0==i&&0==s?this.modules[o+i][n+s]=!0:this.modules[o+i][n+s]=!1}},setupTypeNumber:function(t){for(var e=d.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var o=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(var r=0;r<18;r++){var o=!t&&1==(e>>r&1);this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=o}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,o=d.getBCHTypeInfo(r),n=0;n<15;n++){var i=!t&&1==(o>>n&1);n<6?this.modules[n][8]=i:n<8?this.modules[n+1][8]=i:this.modules[this.moduleCount-15+n][8]=i}for(var n=0;n<15;n++){var i=!t&&1==(o>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=i:n<9?this.modules[8][15-n-1+1]=i:this.modules[8][15-n-1]=i}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,o=this.moduleCount-1,n=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var a=0;a<2;a++)if(null==this.modules[o][s-a]){var c=!1;i<t.length&&(c=1==(t[i]>>>n&1));var l=d.getMask(e,o,s-a);l&&(c=!c),this.modules[o][s-a]=c,n--,n==-1&&(i++,n=7)}if(o+=r,o<0||this.moduleCount<=o){o-=r,r=-r;break}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,r,i){for(var s=o.getRSBlocks(t,r),a=new n,c=0;c<i.length;c++){var l=i[c];a.put(l.mode,4),a.put(l.getLength(),d.getLengthInBits(l.mode,t)),l.write(a)}for(var u=0,c=0;c<s.length;c++)u+=s[c].dataCount;if(a.getLengthInBits()>8*u)throw new Error("code length overflow. ("+a.getLengthInBits()+">"+8*u+")");for(a.getLengthInBits()+4<=8*u&&a.put(0,4);a.getLengthInBits()%8!=0;)a.putBit(!1);for(;;){if(a.getLengthInBits()>=8*u)break;if(a.put(e.PAD0,8),a.getLengthInBits()>=8*u)break;a.put(e.PAD1,8)}return e.createBytes(a,s)},e.createBytes=function(t,e){for(var o=0,n=0,i=0,s=new Array(e.length),a=new Array(e.length),c=0;c<e.length;c++){var l=e[c].dataCount,u=e[c].totalCount-l;n=Math.max(n,l),i=Math.max(i,u),s[c]=new Array(l);for(var h=0;h<s[c].length;h++)s[c][h]=255&t.buffer[h+o];o+=l;var f=d.getErrorCorrectPolynomial(u),p=new r(s[c],f.getLength()-1),g=p.mod(f);a[c]=new Array(f.getLength()-1);for(var h=0;h<a[c].length;h++){var m=h+g.getLength()-a[c].length;a[c][h]=m>=0?g.get(m):0}}for(var v=0,h=0;h<e.length;h++)v+=e[h].totalCount;for(var y=new Array(v),_=0,h=0;h<n;h++)for(var c=0;c<e.length;c++)h<s[c].length&&(y[_++]=s[c][h]);for(var h=0;h<i;h++)for(var c=0;c<e.length;c++)h<a[c].length&&(y[_++]=a[c][h]);return y};for(var l={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},u={L:1,M:0,Q:3,H:2},h={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},d={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;d.getBCHDigit(e)-d.getBCHDigit(d.G15)>=0;)e^=d.G15<<d.getBCHDigit(e)-d.getBCHDigit(d.G15);return(t<<10|e)^d.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;d.getBCHDigit(e)-d.getBCHDigit(d.G18)>=0;)e^=d.G18<<d.getBCHDigit(e)-d.getBCHDigit(d.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return d.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case h.PATTERN000:return(e+r)%2==0;case h.PATTERN001:return e%2==0;case h.PATTERN010:return r%3==0;case h.PATTERN011:return(e+r)%3==0;case h.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case h.PATTERN101:return e*r%2+e*r%3==0;case h.PATTERN110:return(e*r%2+e*r%3)%2==0;case h.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new r([1],0),o=0;o<t;o++)e=e.multiply(new r([1,f.gexp(o)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case l.MODE_NUMBER:return 10;case l.MODE_ALPHA_NUM:return 9;case l.MODE_8BIT_BYTE:return 8;case l.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case l.MODE_NUMBER:return 12;case l.MODE_ALPHA_NUM:return 11;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case l.MODE_NUMBER:return 14;case l.MODE_ALPHA_NUM:return 13;case l.MODE_8BIT_BYTE:return 16;case l.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,o=0;o<e;o++)for(var n=0;n<e;n++){for(var i=0,s=t.isDark(o,n),a=-1;a<=1;a++)if(!(o+a<0||e<=o+a))for(var c=-1;c<=1;c++)n+c<0||e<=n+c||0==a&&0==c||s==t.isDark(o+a,n+c)&&i++;i>5&&(r+=3+i-5)}for(var o=0;o<e-1;o++)for(var n=0;n<e-1;n++){var l=0;t.isDark(o,n)&&l++,t.isDark(o+1,n)&&l++,t.isDark(o,n+1)&&l++,t.isDark(o+1,n+1)&&l++,0!=l&&4!=l||(r+=3)}for(var o=0;o<e;o++)for(var n=0;n<e-6;n++)t.isDark(o,n)&&!t.isDark(o,n+1)&&t.isDark(o,n+2)&&t.isDark(o,n+3)&&t.isDark(o,n+4)&&!t.isDark(o,n+5)&&t.isDark(o,n+6)&&(r+=40);for(var n=0;n<e;n++)for(var o=0;o<e-6;o++)t.isDark(o,n)&&!t.isDark(o+1,n)&&t.isDark(o+2,n)&&t.isDark(o+3,n)&&t.isDark(o+4,n)&&!t.isDark(o+5,n)&&t.isDark(o+6,n)&&(r+=40);for(var u=0,n=0;n<e;n++)for(var o=0;o<e;o++)t.isDark(o,n)&&u++;var h=Math.abs(100*u/e/e-50)/5;return r+=10*h}},f={glog:function(t){if(t<1)throw new Error("glog("+t+")");return f.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return f.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},p=0;p<8;p++)f.EXP_TABLE[p]=1<<p;for(var p=8;p<256;p++)f.EXP_TABLE[p]=f.EXP_TABLE[p-4]^f.EXP_TABLE[p-5]^f.EXP_TABLE[p-6]^f.EXP_TABLE[p-8];for(var p=0;p<255;p++)f.LOG_TABLE[f.EXP_TABLE[p]]=p;r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),o=0;o<this.getLength();o++)for(var n=0;n<t.getLength();n++)e[o+n]^=f.gexp(f.glog(this.get(o))+f.glog(t.get(n)));return new r(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=f.glog(this.get(0))-f.glog(t.get(0)),o=new Array(this.getLength()),n=0;n<this.getLength();n++)o[n]=this.get(n);for(var n=0;n<t.getLength();n++)o[n]^=f.gexp(f.glog(t.get(n))+e);return new r(o,0).mod(t)}},o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(t,e){var r=o.getRsBlockTable(t,e);if(void 0==r)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var a=r[3*s+0],c=r[3*s+1],l=r[3*s+2],u=0;u<a;u++)i.push(new o(c,l));return i},o.getRsBlockTable=function(t,e){switch(e){case u.L:return o.RS_BLOCK_TABLE[4*(t-1)+0];case u.M:return o.RS_BLOCK_TABLE[4*(t-1)+1];case u.Q:return o.RS_BLOCK_TABLE[4*(t-1)+2];case u.H:return o.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},n.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var g=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],m=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){function e(t,e){var r=document.createElementNS("http://www.w3.org/2000/svg",t);for(var o in e)e.hasOwnProperty(o)&&r.setAttribute(o,e[o]);return r}var r=this._htOption,o=this._el,n=t.getModuleCount();Math.floor(r.width/n),Math.floor(r.height/n);this.clear();var i=e("svg",{viewBox:"0 0 "+String(n)+" "+String(n),width:"100%",height:"100%",fill:r.colorLight});i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),o.appendChild(i),i.appendChild(e("rect",{fill:r.colorLight,width:"100%",height:"100%"})),i.appendChild(e("rect",{fill:r.colorDark,width:"1",height:"1",id:"template"}));for(var s=0;s<n;s++)for(var a=0;a<n;a++)if(t.isDark(s,a)){var c=e("use",{x:String(a),y:String(s)});c.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),i.appendChild(c)}},t.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},t}(),v="svg"===document.documentElement.tagName.toLowerCase(),y=v?m:i()?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function e(t,e){var r=this;if(r._fFail=e,r._fSuccess=t,null===r._bSupportDataURI){var o=document.createElement("img"),n=function(){r._bSupportDataURI=!1,r._fFail&&r._fFail.call(r)},i=function(){r._bSupportDataURI=!0,r._fSuccess&&r._fSuccess.call(r)};return o.onabort=n,o.onerror=n,o.onload=i,void(o.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}r._bSupportDataURI===!0&&r._fSuccess?r._fSuccess.call(r):r._bSupportDataURI===!1&&r._fFail&&r._fFail.call(r)}if(this._android&&this._android<=2.1){var r=1/window.devicePixelRatio,o=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,e,n,i,s,a,c,l,u){if("nodeName"in t&&/img/i.test(t.nodeName))for(var h=arguments.length-1;h>=1;h--)arguments[h]=arguments[h]*r;else"undefined"==typeof l&&(arguments[1]*=r,arguments[2]*=r,arguments[3]*=r,arguments[4]*=r);o.apply(this,arguments)}}var n=function(t,e){this._bIsPainted=!1,this._android=s(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return n.prototype.draw=function(t){var e=this._elImage,r=this._oContext,o=this._htOption,n=t.getModuleCount(),i=o.width/n,s=o.height/n,a=Math.round(i),c=Math.round(s);e.style.display="none",this.clear();for(var l=0;l<n;l++)for(var u=0;u<n;u++){var h=t.isDark(l,u),d=u*i,f=l*s;r.strokeStyle=h?o.colorDark:o.colorLight,r.lineWidth=1,r.fillStyle=h?o.colorDark:o.colorLight,r.fillRect(d,f,i,s),r.strokeRect(Math.floor(d)+.5,Math.floor(f)+.5,a,c),r.strokeRect(Math.ceil(d)-.5,Math.ceil(f)-.5,a,c)}this._bIsPainted=!0},n.prototype.makeImage=function(){this._bIsPainted&&e.call(this,t)},n.prototype.isPainted=function(){return this._bIsPainted},n.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},n.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},n}():function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,r=this._el,o=t.getModuleCount(),n=Math.floor(e.width/o),i=Math.floor(e.height/o),s=['<table style="border:0;border-collapse:collapse;">'],a=0;a<o;a++){s.push("<tr>");for(var c=0;c<o;c++)s.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+n+"px;height:"+i+"px;background-color:"+(t.isDark(a,c)?e.colorDark:e.colorLight)+';"></td>');
s.push("</tr>")}s.push("</table>"),r.innerHTML=s.join("");var l=r.childNodes[0],u=(e.width-l.offsetWidth)/2,h=(e.height-l.offsetHeight)/2;u>0&&h>0&&(l.style.margin=h+"px "+u+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}();QRCode=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:u.H},"string"==typeof e&&(e={text:e}),e)for(var r in e)this._htOption[r]=e[r];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(y=m),this._android=s(),this._el=t,this._oQRCode=null,this._oDrawing=new y(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},QRCode.prototype.makeCode=function(t){this._oQRCode=new e(a(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=u}(),"object"!=typeof CryptoJS&&console.log("Esta librer√≠a requiere la carga de CryptoJS antes");var NomorePass={device:null,token:null,fielduser:"#user",fieldpass:"#password",fieldresp:null,callback:null,qrcode:"#qrcode",stopped:!1,init:function(t,e){localStorage.device&&(NomorePass.device=localStorage.device,document.querySelector(t).value=NomorePass.device),localStorage.token&&(NomorePass.token=localStorage.token),NomorePass.callback=e},decrypt:function(t){var e=CryptoJS.AES.decrypt(t,token).toString(CryptoJS.enc.Utf8);return e},newtoken:function(){for(var t=12,e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r="",o=0,n=e.length;o<t;++o)r+=e.charAt(Math.floor(Math.random()*n));return r},assoc:function(){var t="https://www.nomorepass.com/api/assoc.php";NomorePass.post(t,{device:NomorePass.device},function(t){"ok"==t.resultado?(localStorage.token=t.token,token=t.token,null!=NomorePass.fieldresp&&null!=document.querySelector(NomorePass.fieldresp)&&(document.querySelector(NomorePass.fieldresp).innerHTML="Dispositivo asociado"),NomorePass.auth()):alert("Error en la llamada assoc")})},auth:function(){var t="https://www.nomorepass.com/api/auth.php";NomorePass.post(t,{assoc:localStorage.token,site:window.location.href},function(t){"ok"==t.resultado?(localStorage.ticket=t.ticket,null!=NomorePass.fieldresp&&null!=document.querySelector(NomorePass.fieldresp)&&(document.querySelector(NomorePass.fieldresp).innerHTML="Esperando respuesta"),NomorePass.check()):alert("Error en la llamada auth")})},check:function(){if(null!=NomorePass.fieldresp&&null!=document.querySelector(NomorePass.fieldresp)&&(document.querySelector(NomorePass.fieldresp).innerHTML+="."),NomorePass.stopped)return null!=NomorePass.fieldresp&&null!=document.querySelector(NomorePass.fieldresp)&&(document.querySelector(NomorePass.fieldresp).innerHTML="Peticion parada"),null!=document.querySelector(NomorePass.qrcode)&&(document.querySelector(NomorePass.qrcode).style.display="none"),void(NomorePass.stopped=!1);var t="https://www.nomorepass.com/api/check.php";NomorePass.post(t,{ticket:localStorage.ticket},function(t){"ok"==t.resultado?"deny"==t.grant?(alert("Peticion denegada"),null!=NomorePass.fieldresp&&null!=document.querySelector(NomorePass.fieldresp)&&(document.querySelector(NomorePass.fieldresp).innerHTML="Denegada"),null!=document.querySelector(NomorePass.qrcode)&&(document.querySelector(NomorePass.qrcode).style.display="none")):"grant"==t.grant?(null!=document.querySelector(NomorePass.fielduser)&&(document.querySelector(NomorePass.fielduser).value=t.usuario),null!=document.querySelector(NomorePass.fieldpass)&&(document.querySelector(NomorePass.fieldpass).value=NomorePass.decrypt(t.password)),null!=NomorePass.fieldresp&&null!=document.querySelector(NomorePass.fieldresp)&&(document.querySelector(NomorePass.fieldresp).innerHTML="Passwords recibidos"),null!=document.querySelector(NomorePass.qrcode)&&(document.querySelector(NomorePass.qrcode).style.display="none"),NomorePass.callback()):"expired"==t.grant?(console.log("Ha expirado la peticion"),null!=NomorePass.fieldresp&&null!=document.querySelector(NomorePass.fieldresp)&&(document.querySelector(NomorePass.fieldresp).innerHTML="Peticion expirada"),null!=document.querySelector(NomorePass.qrcode)&&(document.querySelector(NomorePass.qrcode).style.display="none"),NomorePass.callback()):setTimeout(NomorePass.check,3e3):alert("Error en la llamada auth")})},getid:function(t){var e="https://www.nomorepass.com/api/getid.php";NomorePass.post(e,{site:window.location.href},function(e){if("ok"==e.resultado){var r=NomorePass.newtoken();localStorage.token=r,token=r,localStorage.ticket=e.ticket,ticket=e.ticket,t("nomorepass://"+token+ticket+window.location.hostname),NomorePass.check()}else alert("Error en la llamada assoc")})},goqr:function(){NomorePass.getid(function(t){NomorePass.stopped=!1;var e=document.querySelector(NomorePass.qrcode);if(null!=e){e.innerHTML="",e.style.display="block",new QRCode(e,t);var r=t;e.onclick=function(t){window.open(r,"_system")}}else console.log("No qrelement "+NomorePass.qrcode)})},post:function(t,e,r){var o=new FormData;for(var n in e)o.append(n,e[n]);var i=new XMLHttpRequest;i.onreadystatechange=function(){4==i.readyState&&200==i.status&&r(JSON.parse(i.responseText))},i.open("post",t),i.send(o)}};